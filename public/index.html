<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Grupo2</title>
        <!-- update the version number as needed -->
        <script defer src="/__/firebase/9.12.1/firebase-app-compat.js"></script>
        <!-- include only the Firebase features as you need -->
        <script defer src="/__/firebase/9.12.1/firebase-auth-compat.js"></script>
        <script defer src="/__/firebase/9.12.1/firebase-database-compat.js"></script>
        <script defer src="/__/firebase/9.12.1/firebase-firestore-compat.js"></script>
        <script defer src="/__/firebase/9.12.1/firebase-functions-compat.js"></script>
        <script defer src="/__/firebase/9.12.1/firebase-messaging-compat.js"></script>
        <script defer src="/__/firebase/9.12.1/firebase-storage-compat.js"></script>
        <script defer src="/__/firebase/9.12.1/firebase-analytics-compat.js"></script>
        <script defer src="/__/firebase/9.12.1/firebase-remote-config-compat.js"></script>
        <script defer src="/__/firebase/9.12.1/firebase-performance-compat.js"></script>
        <!-- 
         initialize the SDK after all desired features are loaded, set useEmulator to false
         to avoid connecting the SDK to running emulators.
         -->
        <script defer src="/__/firebase/init.js?useEmulator=true"></script>
    </head>
    <body>
        <h1 style="text-align: center;">Grupo2</h1>

        <a href="pages/login.html">
            <button>Login</button>
        </a>
        <a href="">
            <button onclick="signOut()">Logout</button>
        </a>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const loadEl = document.querySelector("#load");

                firebase.auth().onAuthStateChanged((user) => {
                  if(user != null)
                    console.log("user: " + user.uid);
                  else
                    console.log("user: " + user);
                });

                // firebase.database().ref('/path/to/ref').on('value', snapshot => { });
                // firebase.firestore().doc('/foo/bar').get().then(() => { });
                // firebase.functions().httpsCallable('yourFunction')().then(() => { });
                // firebase.messaging().requestPermission().then(() => { });
                // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
                firebase.analytics(); // call to activate
                // firebase.analytics().logEvent('tutorial_completed');
                // firebase.performance(); // call to activate
                //

                try {
                    let app = firebase.app();
                    let features = ["auth", "database", "firestore", "functions", "messaging", "storage", "analytics", "remoteConfig", "performance"].filter((feature) => typeof app[feature] === "function");
                    // Firebase SDK loaded
                } catch (e) {
                    // Error loading the Firebase SDK, check the console
                    console.error(e);
                }
            });
        </script>
    </body>

    <script src="js/firebase/auth.js"></script>
</html>
