<!DOCTYPE html>
<html>

<head>
  <title>Admin</title>
  <!-- StyleSheets -->
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
  <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
  <!-- Google fonts-->
  <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet" />

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
    crossorigin="anonymous"></script>

  <!-- graph -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">
  </script>
  <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
  <link href="../css/admin.css" rel="stylesheet" />


</head>

<body>
  <div class="sidenav" role="tablist">
    <ul class="nav nav-tabs flex-column border-0" id="myTab">
      <li class="nav-item rounded">
        <a href="#dashboard" class="list-group-item list-group-item-action" data-bs-toggle="list" role="tab">Dashboard</a>
      </li>
      <li class="nav-item rounded">
        <a href="#eventRegister" class="list-group-item list-group-item-action active" data-bs-toggle="list" role="tab">Registar Evento</a>
      </li>
      <li class="nav-item rounded">
        <a href="#event" class="list-group-item list-group-item-action" data-bs-toggle="list" role="tab">Eventos</a>
      </li>
      <li class="nav-item rounded bg-danger">
        <a href="../index.html" class="list-group-item list-group-item-action text-white">Sair</a>
      </li>
    </ul>
  </div>

  <!-- Header-->
  <div class="main">
    <!-- List group -->
    <section class="py-5">
      <div class="container px-4">
        <div class="m-4">
          <div class="tab-content">
            <div class="tab-pane fade" id="dashboard">
              <div class="border border-primary" style="height: 300px; width: 500px; background-color: aliceblue;">
                  <h1 class="text-center" style="color: black;">LEITURAS Evento XYZ</h1>
                  <canvas id="guiaEventChart" style="width:100%;max-width:700px"></canvas>
              </div>
            </div>
            <div class="tab-pane fade" id="eventRegister">
              <div class="container">
                <div class="row d-flex justify-content-center">
                  <div class="col-md">
                    <h4>Dados Montanhas</h4>
                    <div class="input-group">
                      <input type="search" id="searchInput" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
                      <button type="button" class="btn btn-outline-primary" onclick="showEventData(document.getElementById('searchInput').value);">search</button>
                    </div>
                    <div class="showData">
                      <div class="form-group">
                        <select class="form-select" size="5" aria-label="size 3 select example">                          
                          <div class="container vertical-scrollable" style="height: 500px; overflow-y: scroll;">
                            <div class="row text-center" id="data">
                              
                            </div>
                          </div>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="col-md">
                    <h4>Dados evento</h4>
                    <form>
                      <label for="eventName" class="col-form-label">Nome do Evento:</label>
                      <input type="text" class="form-control" id="eventName">
                      <label for="start-date" class="col-form-label">Data Inicio do Evento:</label>
                      <input type="date" class="form-control" id="startDate">
                      <label for="end-date" class="col-form-label">Data Fim do Evento:</label>
                      <input type="date" class="form-control" id="endDate">
                      <label for="registrations" class="col-form-label">Número máximo registos:</label>
                      <input type="number" class="form-control" id="registrations">
                    </form>
                  </div>
                </div>
              </div>
              <div class="d-flex justify-content-center mt-5">
                <button id="register" type="button" class="btn btn-success" type="submit" onclick="createEvento()">Registar
                  Evento</button>
              </div>
            </div>
            <div class="tab-pane fade" id="event">
              <section class="">
                <div class="container">
                  <div class="row">
                    <!-- Cards -->
                    <section class="events">
                      <div class="container mb-auto px-4 px-lg-5">
                        <div class="justify-content-center">
                          <div id="card-container">

                          </div>
                        </div>
                      </div>
                    </section>
              </section>
            </div>
            <div class="tab-pane fade" id="editEvent">
              <h4>evento</h4>
              <div id="editEventForm">
                <form>
                  <div class="row">
                    <div class="col-md">
                      <label for="eventNameEdit" class="col-form-label">Nome do Evento:</label>
                      <input type="text" class="form-control" id="eventNameEdit">
                      <label for="start-dateEdit" class="col-form-label">Data Inicio do Evento:</label>
                      <input type="date" class="form-control" id="start-dateEdit">
                      <label for="end-dasteEdit" class="col-form-label">Data Fim do Evento:</label>
                      <input type="date" class="form-control" id="end-dateEdit">
                      <label for="registrationsEdit" class="col-form-label">Número máximo registos:</label>
                      <input type="number" class="form-control" id="registrationsEdit">
                    </div>
                    <div class="col-md">
                      <label for="dem" class="col-form-label">Altura Média:</label>
                      <input type="number" class="form-control" id="dem">
                      <label for="elevation" class="col-form-label">Elevação:</label>
                      <input type="number" class="form-control" id="elevation">
                      <label for="latitude" class="col-form-label">Latitude:</label>
                      <input type="number" class="form-control" id="latitude">
                      <label for="longitude" class="col-form-label">Longitude:</label>
                      <input type="number" class="form-control" id="longitude">
                    </div>
                  </div> 
                </form>
              </div>
              <div class="d-flex justify-content-center mt-5">
                <button type="button" class="btn btn-success" type="submit" onclick="editEvent()">Atualizar
                  Evento</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Modals -->
    <section class="py-5">
      <div id="modal-container"></div>
    </section>
  </div>

</body>

<script src="../bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- Scripts -->
<script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-auth-compat.js"></script>
<!-- Firestore -->
<script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-firestore-compat.js"></script>
<script src="../js/index.js"></script>
<script src="../js/constants.js"></script>
<script src="../js/firebase/event.js"></script>
<script src="../js/firebase/user.js"></script>
<script src="../js/firebase/auth.js"></script>
<script src="../js/utils/auth_utils.js"></script>
<script src="../js/firebase/api.js"></script>

<script src="../js/utils/color_utils.js"></script>
<script src="../js/firebase/graph.js"></script>
<script src="../js/firebase/readings.js"></script>
<script>
  // Render graphs
  makeGraphByEvent("guiaEventChart", "gEN0O91oRIdWvxqT9K4j");
</script>
<script src="../js/firebase/admin.js"></script>
</html>